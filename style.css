/* --- CSS NOVO PARA O CHAT FORMATADO --- */

/* Estilo base da mensagem */
.message { 
    padding: 15px 20px; 
    border-radius: 12px; 
    max-width: 85%; 
    line-height: 1.6; 
    font-size: 15px;
    position: relative;
    word-wrap: break-word; /* Quebra palavras longas */
}

/* Área formatada da IA (Markdown) */
.markdown-body h1, .markdown-body h2, .markdown-body h3 {
    margin-top: 20px;
    margin-bottom: 10px;
    font-weight: 600;
    line-height: 1.25;
}
.markdown-body h2 { font-size: 1.3em; border-bottom: 1px solid #ddd; padding-bottom: 5px; }
.markdown-body h3 { font-size: 1.1em; }
.markdown-body p { margin-bottom: 10px; }
.markdown-body ul, .markdown-body ol { padding-left: 20px; margin-bottom: 10px; }
.markdown-body li { margin-bottom: 5px; }
.markdown-body strong { font-weight: 700; color: #2383e2; /* Destaque azul sutil */ }
.markdown-body code {
    background-color: rgba(27, 31, 35, 0.05);
    padding: 2px 4px;
    border-radius: 4px;
    font-family: monospace;
    font-size: 85%;
}
.markdown-body pre {
    background: #f6f8fa;
    padding: 10px;
    border-radius: 6px;
    overflow-x: auto;
}
/* --- DESIGN SYSTEM --- */
:root {
    --bg: #ffffff;
    --sidebar: #f7f7f5;
    --text-main: #37352f;
    --text-light: #787774;
    --accent: #2383e2;
    --border: #e9e9e7;
    --chat-user: #eef3ff;
    --chat-ai: #f4f4f0;
}

* { box-sizing: border-box; }
body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, sans-serif; color: var(--text-main); display: flex; height: 100vh; overflow: hidden; }

/* --- SIDEBAR --- */
aside { width: 240px; background: var(--sidebar); border-right: 1px solid var(--border); padding: 12px; display: flex; flex-direction: column; }

.brand { padding: 8px; font-weight: 700; display: flex; align-items: center; gap: 8px; margin-bottom: 20px; }

.menu-label { font-size: 11px; font-weight: 600; color: var(--text-light); text-transform: uppercase; margin: 16px 8px 4px; display: flex; justify-content: space-between; align-items: center; }
.add-btn { cursor: pointer; padding: 2px; border-radius: 4px; }
.add-btn:hover { background: #e0e0e0; color: black; }

.nav-item { padding: 6px 8px; border-radius: 4px; cursor: pointer; color: var(--text-light); display: flex; align-items: center; gap: 10px; font-size: 14px; margin-bottom: 2px; transition: 0.1s; }
.nav-item:hover { background: rgba(0,0,0,0.04); color: var(--text-main); }
.nav-item.active { background: rgba(0,0,0,0.08); color: var(--text-main); font-weight: 500; }

/* --- MAIN AREA --- */
main { flex: 1; display: flex; flex-direction: column; background: var(--bg); position: relative; }
.content-scroll { flex: 1; overflow-y: auto; padding: 40px 80px; }

/* --- VIEWS --- */
.hidden { display: none !important; }

/* Project View Styles */
.project-header { margin-bottom: 30px; }
.project-title { font-size: 40px; font-weight: 700; border: none; outline: none; width: 100%; color: var(--text-main); margin-bottom: 20px; }

.progress-card { background: #fafafa; border: 1px solid var(--border); border-radius: 8px; padding: 20px; margin-bottom: 30px; }
.progress-bar { height: 8px; background: #eee; border-radius: 4px; overflow: hidden; margin-top: 10px; }
.progress-fill { height: 100%; background: var(--accent); width: 0%; transition: width 0.5s ease; }

.step-item { display: flex; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border); cursor: pointer; }
.step-item:hover { background: #f9f9f9; padding-left: 5px; }
.step-check { margin-right: 10px; transform: scale(1.2); cursor: pointer; }
.step-text.done { text-decoration: line-through; color: var(--text-light); }

/* Chat View Styles */
.chat-container { display: flex; flex-direction: column; height: 100%; max-width: 800px; margin: 0 auto; }
.chat-history { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 20px; }

/* Estilo Base das Mensagens */
.message { 
    padding: 15px 20px; 
    border-radius: 12px; 
    max-width: 85%; 
    line-height: 1.6; 
    font-size: 15px;
    position: relative;
    word-wrap: break-word;
}
.msg-user { align-self: flex-end; background: var(--chat-user); color: #333; }
.msg-ai { align-self: flex-start; background: var(--chat-ai); border: 1px solid var(--border); }

.chat-input-area { padding: 20px; border-top: 1px solid var(--border); display: flex; gap: 10px; }
.chat-input { flex: 1; padding: 12px; border: 1px solid var(--border); border-radius: 6px; outline: none; }
.chat-btn { padding: 0 20px; background: var(--text-main); color: white; border: none; border-radius: 6px; cursor: pointer; }

/* --- MARKDOWN STYLES (Formatação da IA) --- */
.markdown-body h1, .markdown-body h2, .markdown-body h3 { margin-top: 15px; margin-bottom: 8px; font-weight: 600; line-height: 1.25; }
.markdown-body h2 { font-size: 1.2em; border-bottom: 1px solid #ddd; padding-bottom: 4px; }
.markdown-body p { margin-bottom: 8px; }
.markdown-body ul, .markdown-body ol { padding-left: 20px; margin-bottom: 8px; }
.markdown-body li { margin-bottom: 4px; }
.markdown-body strong { font-weight: 700; color: var(--accent); }
.markdown-body code { background-color: rgba(0,0,0,0.05); padding: 2px 4px; border-radius: 4px; font-family: monospace; font-size: 90%; }

/* Calendar View Styles */
.calendar-container { height: 100%; padding: 20px; display: flex; flex-direction: column; }
.calendar-frame { flex: 1; border: 1px solid var(--border); border-radius: 8px; background: #fff; display: flex; align-items: center; justify-content: center; overflow: hidden; }

/* Editor Block Styles */
.block-wrapper { margin: 5px 0; position: relative; }
.block-content:empty::before { content: attr(placeholder); color: #ddd; }
.block-content { outline: none; }

/* =========================================
   RESPONSIVIDADE (MOBILE)
   Adicione isso ao final do arquivo style.css
   ========================================= */

@media (max-width: 768px) {
    
    /* 1. Mudar layout de Lado-a-Lado para Coluna */
    body {
        flex-direction: column;
        height: 100dvh; /* dvh ajuda com a barra do navegador no celular */
    }

    /* 2. Transformar Sidebar em Menu Superior Horizontal */
    aside {
        width: 100%;
        height: auto; /* Altura automática */
        min-height: 60px;
        border-right: none;
        border-bottom: 1px solid var(--border);
        
        flex-direction: row; /* Itens lado a lado */
        align-items: center;
        overflow-x: auto; /* Permite rolar horizontalmente */
        white-space: nowrap; /* Não quebra linha */
        
        padding: 10px 15px;
        gap: 15px;
        background: #fff; /* Fica melhor branco no topo */
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        z-index: 10;
    }

    /* Esconder textos desnecessários para economizar espaço */
    .menu-label { 
        display: none; 
    }

    /* Ajustar a Marca (Logo) */
    .brand {
        margin-bottom: 0;
        padding: 0;
        margin-right: 10px;
        border-right: 1px solid var(--border);
        padding-right: 15px;
    }
    /* Opcional: Esconder o texto "Space OS" e deixar só o ícone no celular */
    .brand { font-size: 0; } 
    .brand i { font-size: 24px; color: var(--accent); }

    /* Ajustar os Itens de Navegação */
    .nav-item {
        margin-bottom: 0;
        background: #f4f4f4;
        padding: 8px 12px;
        font-size: 13px;
        border-radius: 20px; /* Estilo de "Pílula" */
    }

    /* Ajustar a lista de projetos para ficar na horizontal */
    #project-list {
        display: flex;
        gap: 10px;
    }

    /* 3. Ajustar a Área Principal */
    main {
        width: 100%;
        flex: 1; /* Ocupa o resto da tela */
    }

    .content-scroll {
        padding: 20px; /* Reduz o padding gigante de 80px */
    }

    /* 4. Ajustes Específicos das Views */
    
    /* Projeto */
    .project-title {
        font-size: 28px; /* Título menor */
    }
    
    /* Chat */
    .chat-container {
        height: 100%;
    }
    .message {
        max-width: 95%; /* Balão ocupa mais espaço */
        padding: 12px 15px;
        font-size: 14px;
    }
    .chat-input-area {
        padding: 10px;
    }
    
    /* Esconder barra de rolagem feia na Sidebar (Estético) */
    aside::-webkit-scrollbar {
        height: 0px;
        background: transparent;
    }
}